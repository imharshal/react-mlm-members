(this["webpackJsonpvuexy-react-admin-dashboard"]=this["webpackJsonpvuexy-react-admin-dashboard"]||[]).push([[25],{1391:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(425),c=a.n(r),s=a(492),o=a(24),i=a(0),l=(a(422),a(38)),u=a.n(l),d=a(819),m=(a(346),a(398)),p=a(414),b=a(412),f=a(399),j=a(500),O=a(981),y=a(1332),h=a(659),g=a(1294),v=a(660),N=a(982),w=a(1333),x=a(323),_=a(413),P=a(371),T=a(379),E=a(380),A=(a(427),a(453),a(501),a(49)),C=a.n(A),k=a(328),M=a(382),S=a.n(M),R=a(372),D=a.n(R),z=a(6),F=S()(D.a),L=T.c().shape({amount:T.b().typeError("Amount must be a number").default(1).required("Amount is requierd")});t.default=function(e){var t=e.type,a=void 0===t?"bank":t,r=Object(P.e)({mode:"onBlur",resolver:Object(E.a)(L)}),l=r.register,T=r.handleSubmit,A=(r.control,r.formState.errors),M=r.trigger,S=Object(i.useState)([]),R=Object(o.a)(S,2),D=(R[0],R[1],Object(i.useState)([])),I=Object(o.a)(D,2),q=I[0],B=I[1],J=Object(i.useState)(!1),U=Object(o.a)(J,2),G=U[0],H=U[1],K=Object(i.useState)(!1),Q=Object(o.a)(K,2),V=(Q[0],Q[1],function(e){return new Promise((function(t){var a=document.createElement("script");a.src=e,a.onload=function(){t(!0)},a.onerror=function(){t(!1)},document.body.appendChild(a)}))});Object(i.useEffect)((function(){C.a.get(k.a.routes.get.profile,k.a.auth).then((function(e){return B(e.data.user)}))}),[]);var W=function(e){var t={razorpay_order_id:e};C.a.post(k.a.routes.post.complete_payment,t).then((function(e){})),F.fire({title:"Payment Failed!",text:"Please try after some time",icon:"error",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})},X=function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V("https://checkout.razorpay.com/v1/checkout.js");case 2:if(e.sent){e.next=6;break}return alert("Are you online?"),e.abrupt("return");case 6:C.a.post(k.a.routes.post.initiate_payment,t).then((function(e){H(!1);var t=e.data.data,a={key:t.razorpayId,amount:t.amount,currency:t.currency,name:"Cashmind",description:t.description,order_id:t.orderId,allow_rotation:!0,modal:{ondismiss:function(e){return W(e)}},handler:function(){var e=Object(s.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H(!1),C.a.post(k.a.routes.post.complete_payment,t).then((function(e){F.fire({title:"Fund Added Successful!",text:"Check fund history for account statement",icon:"success",customClass:{confirmButton:"btn btn-primary"},buttonsStyling:!1})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),prefill:{name:t.name,email:t.email,contact:t.contactNumber},notes:{address:t.address},theme:{color:"#7367f0"}};new Razorpay(a).open()}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(z.jsx)(z.Fragment,{children:Object(z.jsxs)(m.a,{className:"container",children:[Object(z.jsx)(p.a,{children:Object(z.jsx)(b.a,{children:"Add Funds"})}),Object(z.jsxs)(f.a,{className:"",children:[Object(z.jsx)(j.a,{color:"primary",children:Object(z.jsxs)("div",{className:"alert-body",children:[Object(z.jsxs)("div",{className:" ml-2 mt-2 text-sm",children:[Object(z.jsx)(O.a,{className:"h6 text-secondary",children:"After successful payment your account will be credited with respected amount within 3 minutes"})," ",Object(z.jsx)("br",{})]}),Object(z.jsxs)("div",{className:" ml-2 mt-2 text-sm",children:[Object(z.jsx)(O.a,{className:"h6 text-danger",children:"Note: Service charge of 2% will be deducted on every payin."})," ",Object(z.jsx)("br",{})]})]})}),Object(z.jsxs)(y.a,{onSubmit:T((function(e){M(),H(!0);var t={member_id:q.id,amount:e.amount};X(t)})),className:"mt-5",children:[Object(z.jsx)(h.a,{children:Object(z.jsxs)(g.a,{tag:v.a,md:"3",children:[Object(z.jsx)(O.a,{className:"form-label",for:"amount-".concat(a),children:"Enter amount to add"}),Object(z.jsx)(N.a,Object(n.a)(Object(n.a)({type:"number",name:"amount",id:"amount-".concat(a),placeholder:"Amount"},l("amount")),{},{className:u()({"is-invalid":A.amount})})),A.amount&&Object(z.jsx)(w.a,{children:A.amount.message})]})}),Object(z.jsxs)(x.a.Ripple,{type:"submit",color:"primary",disabled:G,children:[G?Object(z.jsxs)(z.Fragment,{children:[Object(z.jsx)(_.a,{color:"white",size:"sm",type:"grow"}),Object(z.jsx)("span",{className:"ml-50",children:"Processing..."})]}):"Add Fund",Object(z.jsx)(d.a,{size:14,className:"align-middle ml-sm-25 ml-0"})]})]})]})]})})}},328:function(e,t,a){"use strict";a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return u}));var n=a(339),r=a(49),c=a.n(r),s=(a(0),"https://api.cashmind.in/api/v1"),o=n.a.getToken(),i={header:{Authorization:"Bearer ".concat(o)},"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},l=function(){try{c.a.get("".concat(s,"/profile"),i).then((function(e){return localStorage.setItem("userData",JSON.stringify(e.data.user)),!0}))}catch(e){console.log(e)}},u=function(){try{return JSON.parse(localStorage.getItem("userData")).id}catch(e){return""}},d={baseUrl:s,auth:i,headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET,PUT,POST,DELETE,PATCH,OPTIONS"},auth_token:"".concat(o),routes:{post:{signup:"".concat(s,"/signup"),change_password:"".concat(s,"/change-password"),bank_account:"".concat(s,"/bank-account"),purchase_plan:"".concat(s,"/purchase-plan"),withdraw:"".concat(s,"/withdraw-fund"),transfer_fund:"".concat(s,"/fund-transfer"),initiate_payment:"".concat(s,"/initiate-payment"),complete_payment:"".concat(s,"/complete-payment")},get:{member_list:"".concat(s,"/member/list"),profile:"".concat(s,"/profile"),password_reset_link:"".concat(s,"/password-reset-link"),verify_password_link:"".concat(s,"/verify-password-link"),notifications:"".concat(s,"/notifications"),statistics:"".concat(s,"/statistics"),tree:"".concat(s,"/tree"),members_in_levels:"".concat(s,"/members-in-levels"),members_in_levels_count:"".concat(s,"/members-in-levels-count"),bank_account:"".concat(s,"/bank-account"),payment_options:"".concat(s,"/payment-options/").concat(u()),payment_qr:"".concat(s,"/payment-qr/").concat(u()),plans:"".concat(s,"/plans"),active_plan:"".concat(s,"/active-plan"),transactions_history:"".concat(s,"/transactions-history}"),fund_history:"".concat(s,"/fund-wallet-history"),withdrawal_history:"".concat(s,"/withdrawal-history"),level_income_history:"".concat(s,"/level-income-history"),daily_income_history:"".concat(s,"/daily-income-history"),direct_income_history:"".concat(s,"/direct-income-history"),reward_income_history:"".concat(s,"/reward-income-history")}}};t.a=d},373:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(330),s=a(0),o=a.n(s),i=a(3),l=a.n(i),u=a(38),d=a.n(u),m=a(410),p=a(48);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j=f(f({},m.Transition.propTypes),{},{children:l.a.oneOfType([l.a.arrayOf(l.a.node),l.a.node]),tag:p.o,baseClass:l.a.string,baseClassActive:l.a.string,className:l.a.string,cssModule:l.a.object,innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])}),O=f(f({},m.Transition.defaultProps),{},{tag:"div",baseClass:"fade",baseClassActive:"show",timeout:p.e.Fade,appear:!0,enter:!0,exit:!0,in:!0});function y(e){var t=e.tag,a=e.baseClass,c=e.baseClassActive,s=e.className,i=e.cssModule,l=e.children,u=e.innerRef,b=Object(r.a)(e,["tag","baseClass","baseClassActive","className","cssModule","children","innerRef"]),f=Object(p.n)(b,p.c),j=Object(p.m)(b,p.c);return o.a.createElement(m.Transition,f,(function(e){var r="entered"===e,m=Object(p.l)(d()(s,a,r&&c),i);return o.a.createElement(t,Object(n.a)({className:m},j,{ref:u}),l)}))}y.propTypes=j,y.defaultProps=O,t.a=y},398:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(0),s=a.n(c),o=a(3),i=a.n(o),l=a(38),u=a.n(l),d=a(48),m={tag:d.o,inverse:i.a.bool,color:i.a.string,body:i.a.bool,outline:i.a.bool,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,a=e.cssModule,c=e.color,o=e.body,i=e.inverse,l=e.outline,m=e.tag,p=e.innerRef,b=Object(r.a)(e,["className","cssModule","color","body","inverse","outline","tag","innerRef"]),f=Object(d.l)(u()(t,"card",!!i&&"text-white",!!o&&"card-body",!!c&&(l?"border":"bg")+"-"+c),a);return s.a.createElement(m,Object(n.a)({},b,{className:f,ref:p}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},399:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(0),s=a.n(c),o=a(3),i=a.n(o),l=a(38),u=a.n(l),d=a(48),m={tag:d.o,className:i.a.string,cssModule:i.a.object,innerRef:i.a.oneOfType([i.a.object,i.a.string,i.a.func])},p=function(e){var t=e.className,a=e.cssModule,c=e.innerRef,o=e.tag,i=Object(r.a)(e,["className","cssModule","innerRef","tag"]),l=Object(d.l)(u()(t,"card-body"),a);return s.a.createElement(o,Object(n.a)({},i,{className:l,ref:c}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},412:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(0),s=a.n(c),o=a(3),i=a.n(o),l=a(38),u=a.n(l),d=a(48),m={tag:d.o,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.l)(u()(t,"card-title"),a);return s.a.createElement(c,Object(n.a)({},o,{className:i}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},413:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(0),s=a.n(c),o=a(3),i=a.n(o),l=a(38),u=a.n(l),d=a(48),m={tag:d.o,type:i.a.string,size:i.a.string,color:i.a.string,className:i.a.string,cssModule:i.a.object,children:i.a.string},p=function(e){var t=e.className,a=e.cssModule,c=e.type,o=e.size,i=e.color,l=e.children,m=e.tag,p=Object(r.a)(e,["className","cssModule","type","size","color","children","tag"]),b=Object(d.l)(u()(t,!!o&&"spinner-"+c+"-"+o,"spinner-"+c,!!i&&"text-"+i),a);return s.a.createElement(m,Object(n.a)({role:"status"},p,{className:b}),l&&s.a.createElement("span",{className:Object(d.l)("sr-only",a)},l))};p.propTypes=m,p.defaultProps={tag:"div",type:"border",children:"Loading..."},t.a=p},414:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(0),s=a.n(c),o=a(3),i=a.n(o),l=a(38),u=a.n(l),d=a(48),m={tag:d.o,className:i.a.string,cssModule:i.a.object},p=function(e){var t=e.className,a=e.cssModule,c=e.tag,o=Object(r.a)(e,["className","cssModule","tag"]),i=Object(d.l)(u()(t,"card-header"),a);return s.a.createElement(c,Object(n.a)({},o,{className:i}))};p.propTypes=m,p.defaultProps={tag:"div"},t.a=p},500:function(e,t,a){"use strict";var n=a(12),r=a(14),c=a(330),s=a(0),o=a.n(s),i=a(3),l=a.n(i),u=a(38),d=a.n(u),m=a(48),p=a(373);function b(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function f(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?b(Object(a),!0).forEach((function(t){Object(c.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):b(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var j={children:l.a.node,className:l.a.string,closeClassName:l.a.string,closeAriaLabel:l.a.string,cssModule:l.a.object,color:l.a.string,fade:l.a.bool,isOpen:l.a.bool,toggle:l.a.func,tag:m.o,transition:l.a.shape(p.a.propTypes),innerRef:l.a.oneOfType([l.a.object,l.a.string,l.a.func])},O={color:"success",isOpen:!0,tag:"div",closeAriaLabel:"Close",fade:!0,transition:f(f({},p.a.defaultProps),{},{unmountOnExit:!0})};function y(e){var t=e.className,a=e.closeClassName,c=e.closeAriaLabel,s=e.cssModule,i=e.tag,l=e.color,u=e.isOpen,b=e.toggle,j=e.children,O=e.transition,y=e.fade,h=e.innerRef,g=Object(r.a)(e,["className","closeClassName","closeAriaLabel","cssModule","tag","color","isOpen","toggle","children","transition","fade","innerRef"]),v=Object(m.l)(d()(t,"alert","alert-"+l,{"alert-dismissible":b}),s),N=Object(m.l)(d()("close",a),s),w=f(f(f({},p.a.defaultProps),O),{},{baseClass:y?O.baseClass:"",timeout:y?O.timeout:0});return o.a.createElement(p.a,Object(n.a)({},g,w,{tag:i,className:v,in:u,role:"alert",innerRef:h}),b?o.a.createElement("button",{type:"button",className:N,"aria-label":c,onClick:b},o.a.createElement("span",{"aria-hidden":"true"},"\xd7")):null,j)}y.propTypes=j,y.defaultProps=O,t.a=y}}]);
//# sourceMappingURL=25.b3ea273a.chunk.js.map